!function(e){function i(){0==a&&(d("trying to resize"),a=!0,e.isFunction(u.window_resize)&&u.window_resize.call(this)),0===u.delay?t():(clearTimeout(c),c=setTimeout(function(){t()},u.delay))}function t(){if(e.isFunction(u.before_resize)&&u.before_resize.call(this),a=!1,u.global)return d("Globally resizing"),void s(999999);for(var i=0;i<u.widths.length;i++)if(n(u.widths[i][0])){1!=u.widths[i][1]?(d("Columns: "+u.widths[i][1]),s(u.widths[i][1])):(d("Columns: "+u.widths[i][1]),l());break}e.isFunction(u.after_resize)&&u.after_resize.call(this)}function n(i){if(window.matchMedia){var t=window.matchMedia("screen and (min-width: "+i+"px)");return t.matches}return"undefined"!=typeof Modernizr&&"undefined"!=typeof Modernizr.mq?Modernizr.mq("(min-width: "+i+"px)"):e(window).width()>i?!0:!1}function o(e){return u.child!==!1?e.find(u.child):e}function r(e,i,t){var n=e*i-i;d("Row: "+e+" Columns: "+i+" Height: "+t),d("Setting row heights");for(var r=0;i>r;r++){var s=f.eq(r+n);if(!u.exclude_set||!s.is(u.exclude_set)){var l=o(s);l.css("height",t+"px")}}}function s(i){var t=1,n=0,s=f.length,l=0;f.each(function(f){d(f);var c=e(this);if(!u.exclude_get||!c.is(u.exclude_get)){var a=o(c);n++,a.css("height","auto"),a.outerHeight()>l&&(l=a.outerHeight()),(n==i||f+1==s)&&(r(t,i,l),t++,n=0,l=0)}})}function l(){u.child?f.find(u.child).css("height","auto"):f.css("height","auto")}function d(e){u.verbose&&console.log(e)}var u,f,c=setTimeout(function(){},100),a=!1,h={init:function(n){return u=e.extend({},e.fn.responsibleHeight.defaults,n),e.isFunction(u.before_init)&&u.before_init.call(this),d(u),"undefined"!=typeof u.widths&&0!==u.widths.length||u.global?(e(window).on("resize",i),t(),void(e.isFunction(u.after_init)&&u.after_init.call(this))):(e.error("widths or global opts missing"),!1)},reinit:function(){h.init(u)},refresh:function(){t()},destroy:function(){d("Destroying..."),d(f),clearTimeout(c),e(window).off("resize",i),l(),e.isFunction(u.after_destroy)&&u.after_destroy.call(this)}};e.fn.responsibleHeight=function(i){return f=this,h[i]?h[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on responsibleHeight"):h.init.apply(this,arguments)},e.fn.responsibleHeight.defaults={global:!1,delay:200,widths:[],child:!1,verbose:!1,exclude_get:!1,exclude_set:!1,before_init:null,after_init:null,window_resize:null,before_resize:null,after_resize:null,after_destroy:null}}(jQuery);